#include <stdio.h>

int l[33][33]={{},{12,2,4,5,6,9,10,11,14,17,19,23,29}
                 ,{11,4,5,6,10,11,12,15,18,20,24,25}
                 ,{12,4,5,6,7,8,9,10,14,15,21,27,31}
                 ,{13,5,6,7,8,9,10,11,14,15,16,19,22,28}
                 ,{10,6,7,10,11,15,17,20,23,25,29}
                 ,{11,7,10,11,12,13,16,17,18,21,24,26}
                 ,{8,11,12,13,17,18,22,27,30}
                 ,{10,9,10,11,12,13,14,15,20,26,30}
                 ,{10,10,11,12,13,14,15,19,21,27,31}
                 ,{12,11,12,13,14,15,16,17,20,21,22,25,28}
                 ,{11,12,13,15,16,17,18,21,22,23,26,29}
                 ,{7,13,17,18,22,24,27,30}
                 ,{5,17,18,23,28,31}
                 ,{10,15,16,17,18,19,20,21,25,26,30}
                 ,{11,16,17,18,19,20,21,22,25,26,27,31}
                 ,{6,17,18,21,22,26,28}
                 ,{9,18,21,22,23,24,27,28,29,30}
                 ,{6,22,23,24,28,29,31}
                 ,{7,20,21,22,23,24,25,26}
                 ,{7,21,22,23,24,25,26,30}
                 ,{9,22,23,24,25,26,27,28,30,31}
                 ,{8,23,24,26,27,28,29,30,31}
                 ,{4,24,28,29,31}
                 ,{2,28,29}
                 ,{4,26,27,28,29}
                 ,{5,27,28,29,30,31}
                 ,{4,28,29,30,31}
                 ,{3,29,30,31}
                 ,{}
                 ,{1,31}
              };
int s[33],hash[33][33],next[33][33],last[33][33],a[33];
int k,n;

void dfs(int now)
{
   int i,j,flag;
   if (now==32)
      n--;
   else if (a[now])
      dfs(now+1);
   else
      for (i=next[now][0];i;i=next[now][i])
      {
         flag=1;
         for (j=1;j<=l[now][0];j++)
         {
            if (!hash[l[now][j]][i])
            {
               next[l[now][j]][last[l[now][j]][i]]=next[l[now][j]][i];
               last[l[now][j]][next[l[now][j]][i]]=last[l[now][j]][i];
               flag&=!!(--s[l[now][j]]);
            }
            hash[l[now][j]][i]++;
         }
         if (flag)
         {
            a[now]=i;
            dfs(now+1);
            if (!n)
               return;
            a[now]=0;
         }
         for (j=1;j<=l[now][0];j++)
         {
            hash[l[now][j]][i]--;
            if (!hash[l[now][j]][i])
            {
               next[l[now][j]][last[l[now][j]][i]]=last[l[now][j]][next[l[now][j]][i]]=i;
               s[l[now][j]]++;
            }
         }
      }
}

int main()
{
   int i,j;
   scanf("%d%d",&k,&n);
   for (i=1;i<=31;i++)
   {
      scanf("%d",&a[i]);
      for (j=0;j<k;j++)
         next[i][j]=j+1;
      for (j=2;j<=k;j++)
         last[i][j]=j-1;
      last[i][0]=s[i]=k;
   }
   for (i=1;i<=31;i++)
      if (!a[i])
      {
         for (j=1;j<=l[i][0];j++)
            if (a[l[i][j]]&&!hash[i][a[l[i][j]]])
            {
               next[i][last[i][a[l[i][j]]]]=next[i][a[l[i][j]]];
               last[i][next[i][a[l[i][j]]]]=last[i][a[l[i][j]]];
               hash[i][a[l[i][j]]]=100;
               s[i]--;
            }
      }
      else
         for (j=1;j<=l[i][0];j++)
            if (!a[l[i][j]]&&!hash[l[i][j]][a[i]])
            {
               next[l[i][j]][last[l[i][j]][a[i]]]=next[l[i][j]][a[i]];
               last[l[i][j]][next[l[i][j]][a[i]]]=last[l[i][j]][a[i]];
               hash[l[i][j]][a[i]]=100;
               s[l[i][j]]--;
            }
            else if (a[l[i][j]]==a[i])
               goto end;
   dfs(1);
   if (n)
   {
      end:
      puts("No way");
   }
   else
   {
      puts("Found");
      for (i=1;i<=31;i++)
         printf("%d%c",a[i],(i==31)?'\n':' ');
   }
   return 0;
}
